(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[16],{567:function(e,a,t){},571:function(e,a,t){},613:function(e,a,t){"use strict";t.r(a);var n=t(62),i=t(9),r=t(10),l=t(12),s=t(11),o=t(0),c=t.n(o),d=t(462),m=t(614),u=t(615),g=t(466),p=t(467),h=t(472),f=t(473),S=t(463),E=t(476),y=t(477),C=t(479),A=t(239),b=t(435),P=t(444),N=t(443),M=t(432),v=t(560),w=t(149),I=t(440),T=t(37),G=t.n(T),R=(t(567),t(26)),k=t(48),_=t(568),B=t.n(_),D=(t(570),t(571),t(601)),O=t(619),z=t(608),L=t(616),F=t(427),K=t(617),U=(D.a,{AF:"Afghanistan",AX:"Aland Islands",AL:"Albania",DZ:"Algeria",AS:"American Samoa",AD:"Andorra",AO:"Angola",AI:"Anguilla",AQ:"Antarctica",AG:"Antigua And Barbuda",AR:"Argentina",AM:"Armenia",AW:"Aruba",AU:"Australia",AT:"Austria",AZ:"Azerbaijan",BS:"Bahamas",BH:"Bahrain",BD:"Bangladesh",BB:"Barbados",BY:"Belarus",BE:"Belgium",BZ:"Belize",BJ:"Benin",BM:"Bermuda",BT:"Bhutan",BO:"Bolivia",BA:"Bosnia And Herzegovina",BW:"Botswana",BV:"Bouvet Island",BR:"Brazil",IO:"British Indian Ocean Territory",BN:"Brunei Darussalam",BG:"Bulgaria",BF:"Burkina Faso",BI:"Burundi",KH:"Cambodia",CM:"Cameroon",CA:"Canada",CV:"Cape Verde",KY:"Cayman Islands",CF:"Central African Republic",TD:"Chad",CL:"Chile",CN:"China",CX:"Christmas Island",CC:"Cocos (Keeling) Islands",CO:"Colombia",KM:"Comoros",CG:"Congo",CD:"Congo, Democratic Republic",CK:"Cook Islands",CR:"Costa Rica",CI:"Cote D'Ivoire",HR:"Croatia",CU:"Cuba",CY:"Cyprus",CZ:"Czech Republic",DK:"Denmark",DJ:"Djibouti",DM:"Dominica",DO:"Dominican Republic",EC:"Ecuador",EG:"Egypt",SV:"El Salvador",GQ:"Equatorial Guinea",ER:"Eritrea",EE:"Estonia",ET:"Ethiopia",FK:"Falkland Islands (Malvinas)",FO:"Faroe Islands",FJ:"Fiji",FI:"Finland",FR:"France",GF:"French Guiana",PF:"French Polynesia",TF:"French Southern Territories",GA:"Gabon",GM:"Gambia",GE:"Georgia",DE:"Germany",GH:"Ghana",GI:"Gibraltar",GR:"Greece",GL:"Greenland",GD:"Grenada",GP:"Guadeloupe",GU:"Guam",GT:"Guatemala",GG:"Guernsey",GN:"Guinea",GW:"Guinea-Bissau",GY:"Guyana",HT:"Haiti",HM:"Heard Island & Mcdonald Islands",VA:"Holy See (Vatican City State)",HN:"Honduras",HK:"Hong Kong",HU:"Hungary",IS:"Iceland",IN:"India",ID:"Indonesia",IR:"Iran, Islamic Republic Of",IQ:"Iraq",IE:"Ireland",IM:"Isle Of Man",IL:"Israel",IT:"Italy",JM:"Jamaica",JP:"Japan",JE:"Jersey",JO:"Jordan",KZ:"Kazakhstan",KE:"Kenya",KI:"Kiribati",KR:"Korea",KW:"Kuwait",KG:"Kyrgyzstan",LA:"Lao People's Democratic Republic",LV:"Latvia",LB:"Lebanon",LS:"Lesotho",LR:"Liberia",LY:"Libyan Arab Jamahiriya",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",MO:"Macao",MK:"Macedonia",MG:"Madagascar",MW:"Malawi",MY:"Malaysia",MV:"Maldives",ML:"Mali",MT:"Malta",MH:"Marshall Islands",MQ:"Martinique",MR:"Mauritania",MU:"Mauritius",YT:"Mayotte",MX:"Mexico",FM:"Micronesia, Federated States Of",MD:"Moldova",MC:"Monaco",MN:"Mongolia",ME:"Montenegro",MS:"Montserrat",MA:"Morocco",MZ:"Mozambique",MM:"Myanmar",NA:"Namibia",NR:"Nauru",NP:"Nepal",NL:"Netherlands",AN:"Netherlands Antilles",NC:"New Caledonia",NZ:"New Zealand",NI:"Nicaragua",NE:"Niger",NG:"Nigeria",NU:"Niue",NF:"Norfolk Island",MP:"Northern Mariana Islands",NO:"Norway",OM:"Oman",PK:"Pakistan",PW:"Palau",PS:"Palestinian Territory, Occupied",PA:"Panama",PG:"Papua New Guinea",PY:"Paraguay",PE:"Peru",PH:"Philippines",PN:"Pitcairn",PL:"Poland",PT:"Portugal",PR:"Puerto Rico",QA:"Qatar",RE:"Reunion",RO:"Romania",RU:"Russian Federation",RW:"Rwanda",BL:"Saint Barthelemy",SH:"Saint Helena",KN:"Saint Kitts And Nevis",LC:"Saint Lucia",MF:"Saint Martin",PM:"Saint Pierre And Miquelon",VC:"Saint Vincent And Grenadines",WS:"Samoa",SM:"San Marino",ST:"Sao Tome And Principe",SA:"Saudi Arabia",SN:"Senegal",RS:"Serbia",SC:"Seychelles",SL:"Sierra Leone",SG:"Singapore",SK:"Slovakia",SI:"Slovenia",SB:"Solomon Islands",SO:"Somalia",ZA:"South Africa",GS:"South Georgia And Sandwich Isl.",ES:"Spain",LK:"Sri Lanka",SD:"Sudan",SR:"Suriname",SJ:"Svalbard And Jan Mayen",SZ:"Swaziland",SE:"Sweden",CH:"Switzerland",SY:"Syrian Arab Republic",TW:"Taiwan",TJ:"Tajikistan",TZ:"Tanzania",TH:"Thailand",TL:"Timor-Leste",TG:"Togo",TK:"Tokelau",TO:"Tonga",TT:"Trinidad And Tobago",TN:"Tunisia",TR:"Turkey",TM:"Turkmenistan",TC:"Turks And Caicos Islands",TV:"Tuvalu",UG:"Uganda",UA:"Ukraine",AE:"United Arab Emirates",GB:"United Kingdom",US:"United States",UM:"United States Outlying Islands",UY:"Uruguay",UZ:"Uzbekistan",VU:"Vanuatu",VE:"Venezuela",VN:"Viet Nam",VG:"Virgin Islands, British",VI:"Virgin Islands, U.S.",WF:"Wallis And Futuna",EH:"Western Sahara",YE:"Yemen",ZM:"Zambia",ZW:"Zimbabwe"}),x=function(e){Object(l.a)(t,e);var a=Object(s.a)(t);function t(){var e;Object(i.a)(this,t);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return(e=a.call.apply(a,[this].concat(l))).state={rowData:[],paginationPageSize:20,name:"",docs:[],allocation:"",basicPicker:"",currenPageSize:"",getPageSize:"",isLoading:!0,isPostLoading:!0,searchText:"",company_health:"0",company_yield:"0",fair_value_score:"0",company_quality:"0",risk_score:"0",industry_rank:"100",net_value_executed_pct:"0",net_holding_pct:"0",defaultColDef:{sortable:!0,editable:!1,resizable:!0,suppressMenu:!0},columnDefs:[{headerName:"Ticker",field:"ticker",width:100,cellRenderer:function(e){var a=e.value;return'<a href="/articleview/'.concat(a,'">').concat(a,"</a>")},filter:!1},{headerName:"Name",field:"ticker_name",filter:!0,filterParams:{filterOptions:["contains"],suppressAndOrCondition:!0},width:200},{headerName:"Health Rating",field:"company_health",filter:"agNumberColumnFilter",filterParams:{filterOptions:["greaterThan"],suppressAndOrCondition:!0},width:200},{headerName:"Yield Rating",field:"company_yield",filter:"agNumberColumnFilter",filterParams:{filterOptions:["greaterThan"],suppressAndOrCondition:!0},width:140},{headerName:"Quality Rating",field:"company_quality",filter:"agNumberColumnFilter",filterParams:{filterOptions:["greaterThan"],suppressAndOrCondition:!0},width:200},{headerName:"Industry Rank",field:"industry_rank",filter:"agNumberColumnFilter",filterParams:{filterOptions:["lessThan"],suppressAndOrCondition:!0},width:180},{headerName:"Fair Value Rating",field:"fair_value_score",filter:"agNumberColumnFilter",filterParams:{filterOptions:["greaterThan"],suppressAndOrCondition:!0},width:200},{headerName:"Risk Rating",field:"risk_score",filter:"agNumberColumnFilter",filterParams:{filterOptions:["greaterThan"],suppressAndOrCondition:!0},width:140},{headerName:"Insider Rating",field:"net_value_executed_pct",filter:"agNumberColumnFilter",filterParams:{filterOptions:["greaterThan"],suppressAndOrCondition:!0},width:200},{headerName:"Institutional Rating",field:"net_holding_pct",filter:"agNumberColumnFilter",filterParams:{filterOptions:["greaterThan"],suppressAndOrCondition:!0},width:200}]},e.fetchArticles=function(){G.a.get("https://theopenstreet.com/api/matrix/?action=search").then((function(a){var t=e.state;t.rowData=t.rowData.concat(a.data),e.setState({items:t})}));var a=new Date;a.setDate(a.getDate()-20),a=a.toISOString().slice(0,10),G.a.get("http://api.datanews.io/v1/news?size=50&source=wsj.com&q=finance&apiKey=08qu938b4y5v8dem2w521v76v&from=".concat(a,"&sortBy=date&language=en&country=US")).then((function(a){var t=a.data.hits;e.setState({docs:t}),console.log(e.state.docs)}))},e.onGridReady=function(a){e.gridApi=a.api,e.gridColumnApi=a.columnApi,e.setState({currenPageSize:e.gridApi.paginationGetCurrentPage()+1,getPageSize:e.gridApi.paginationGetPageSize(),totalPages:e.gridApi.paginationGetTotalPages()})},e.updateSearchQuery=function(a){e.gridApi.setQuickFilter(a)},e.filterSize=function(a){e.gridApi&&(e.gridApi.paginationSetPageSize(Number(a)),e.setState({currenPageSize:a,getPageSize:a}))},e.filter=function(a){var t=e.gridApi.getFilterModel(),n=e.state;for(var i in t)n["".concat(i)]="".concat(t[i].filter);e.setState({items:n}),console.log(e.state)},e.handleChange=function(a){e.setState(Object(n.a)({},a.target.name,a.target.value))},e.handleSubmit=function(a){G.a.post("https://theopenstreet.com/api/portfolio/?token=".concat(localStorage.getItem("token")),{portfolio_name:e.state.name,allocation:e.state.allocation,date_created:e.state.basicPicker[0].toISOString().split("T")[0],min_health:parseInt(e.state.company_health),min_yield:parseInt(e.state.company_yield),min_fair_value:parseInt(e.state.fair_value_score),min_quality:parseInt(e.state.company_quality),min_risk:parseInt(e.state.risk_score),max_industry_rank:parseInt(e.state.industry_rank),min_insider_rating:parseInt(e.state.net_value_executed_pct),min_inst_rating:parseInt(e.state.net_holding_pct)}),e.props.history.push("/portfolios/")},e}return Object(r.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props.token),this.fetchArticles()}},{key:"componentWillReceiveProps",value:function(e){e.token&&this.fetchArticles()}},{key:"render",value:function(){var e=this;if(!this.props.token)return c.a.createElement(k.a,{to:"/"});var a=this.state,t=a.rowData,n=a.columnDefs,i=a.defaultColDef,r=a.basicPicker;if(0===this.state.rowData.length&!1===this.state.isLoading){var l=this.state;l.isLoading=!0,this.setState({items:l})}if(0!==this.state.rowData.length&!0===this.state.isLoading){var s=this.state;s.isLoading=!1,this.setState({items:s})}return 0===this.state.docs.length&!1===this.state.isPostLoading&&this.setState({isPostLoading:!0}),0!==this.state.docs.length&!0===this.state.isPostLoading&&this.setState({isPostLoading:!1}),c.a.createElement(c.a.Fragment,null,c.a.createElement(O.b,{grid:{gutter:16,xs:1,sm:2,md:2,lg:3,xl:3,xxl:3},size:"small",pagination:{onChange:function(e){console.log(e)},pageSize:3},dataSource:this.state.docs,renderItem:function(e){return c.a.createElement(d.a,{style:{marginLeft:20,marginRight:20}},c.a.createElement(m.a,{className:"img-fluid mb-2",src:e.imageUrl,alt:"card image cap"}),c.a.createElement(u.a,null,c.a.createElement(g.a,null,c.a.createElement(p.a,null,c.a.createElement("a",{href:e.url},c.a.createElement("h3",null,e.title)),c.a.createElement(g.a,null,c.a.createElement(p.a,{lg:"5",sm:"5",md:"5",style:{paddingTop:5}},c.a.createElement(L.a,{size:15,style:{color:"white"}}),c.a.createElement("label",null,new Date(e.pubDate).toString().substring(4,15))),c.a.createElement(p.a,{lg:"5",sm:"5",style:{paddingTop:5}},c.a.createElement(F.a,{size:15,style:{color:"white"}}),c.a.createElement("label",null,e.authors[0])),c.a.createElement(p.a,{lg:"5",sm:"5",style:{paddingTop:5}},c.a.createElement(K.a,{size:15,style:{color:"white"}}),c.a.createElement("label",null,(a=e.country.toUpperCase(),U.hasOwnProperty(a)?U[a]:a))),c.a.createElement(p.a,{lg:"5",sm:"5"},c.a.createElement("img",{src:"https://www.google.com/s2/favicons?domain=".concat(e.source),alt:"No Image"}),c.a.createElement("label",null,e.source.toUpperCase()))),c.a.createElement(z.a,null),c.a.createElement("p",null,e.content.substring(0,250),"...")))));var a}}),c.a.createElement(d.a,{style:{marginTop:15}},c.a.createElement(h.a,{id:"portgen"},c.a.createElement(f.a,null,c.a.createElement("h4",{style:{paddingBottom:15}},"Portfolio Generation"))),c.a.createElement(S.a,null,c.a.createElement(E.a,{onSubmit:this.handleSubmit},c.a.createElement(y.a,{row:!0},c.a.createElement(p.a,{md:"4"},c.a.createElement("span",null,"Portfolio Name")),c.a.createElement(p.a,{md:"6"},c.a.createElement(C.a,{type:"text",name:"name",id:"name",onChange:this.handleChange}))),c.a.createElement(y.a,{row:!0},c.a.createElement(p.a,{md:"4"},c.a.createElement("span",null,"Allocation")),c.a.createElement(p.a,{md:"6"},c.a.createElement(C.a,{type:"text",name:"allocation",id:"allocation",onChange:this.handleChange}))),c.a.createElement(y.a,{row:!0},c.a.createElement(p.a,{md:"4"},c.a.createElement("span",null,"Effective Date")),c.a.createElement(p.a,{md:"6"},c.a.createElement(B.a,{className:"form-control",value:r,placeholder:"yyyy-mm-dd",onChange:function(a){e.setState({basicPicker:a})},options:{maxDate:(new Date).fp_incr(-1)}}))),c.a.createElement(y.a,{row:!0},c.a.createElement(p.a,{md:{size:8,offset:4}},c.a.createElement(A.a.Ripple,{color:"primary",type:"submit",className:"mr-1 mb-1"},"Apply Rules"),c.a.createElement(A.a.Ripple,{outline:!0,color:"warning",type:"reset",className:"mb-1"},"Reset")))))),c.a.createElement(d.a,{className:"overflow-hidden agGrid-card"},c.a.createElement(f.a,null,c.a.createElement("h4",{style:{paddingTop:20,paddingLeft:20}},"Stock Ratings Matrix")),c.a.createElement(S.a,{className:"py-0"},null===this.state.rowData?null:c.a.createElement("div",{className:"ag-theme-material w-100 my-2 ag-grid-table"},c.a.createElement("div",{className:"d-flex flex-wrap justify-content-between align-items-center"},c.a.createElement("div",{className:"mb-1"},c.a.createElement(b.a,{className:"p-1 ag-dropdown"},c.a.createElement(P.a,{tag:"div"},this.gridApi?this.state.currenPageSize:""*this.state.getPageSize-(this.state.getPageSize-1)," ","-"," ",this.state.rowData.length-this.state.currenPageSize*this.state.getPageSize>0?this.state.currenPageSize*this.state.getPageSize:this.state.rowData.length," ","of ",this.state.rowData.length,c.a.createElement(I.a,{className:"ml-50",size:15})),c.a.createElement(N.a,{right:!0},c.a.createElement(M.a,{tag:"div",onClick:function(){return e.filterSize(20)}},"20"),c.a.createElement(M.a,{tag:"div",onClick:function(){return e.filterSize(50)}},"50"),c.a.createElement(M.a,{tag:"div",onClick:function(){return e.filterSize(100)}},"100"),c.a.createElement(M.a,{tag:"div",onClick:function(){return e.filterSize(134)}},"134")))),c.a.createElement("div",{className:"d-flex flex-wrap justify-content-between mb-1"},c.a.createElement("div",{className:"table-input mr-1"},c.a.createElement(C.a,{placeholder:"search...",onChange:function(a){return e.updateSearchQuery(a.target.value)},value:this.state.value})),c.a.createElement("div",{className:"export-btn"},c.a.createElement(A.a.Ripple,{color:"primary",onClick:function(){return e.gridApi.exportDataAsCsv()}},"Export as CSV")))),c.a.createElement(w.a.Consumer,null,(function(a){return c.a.createElement(v.AgGridReact,{gridOptions:{},rowSelection:"multiple",defaultColDef:i,columnDefs:n,rowData:t,onGridReady:e.onGridReady,colResizeDefault:"shift",animateRows:!0,floatingFilter:!0,onFilterChanged:e.filter,pagination:!0,paginationPageSize:e.state.paginationPageSize,pivotPanelShow:"always",enableRtl:"rtl"===a.state.direction})}))))))}}]),t}(c.a.Component);a.default=Object(R.b)((function(e){return console.log(e),{token:e.auth.token}}))(x)}}]);
//# sourceMappingURL=16.3c53c973.chunk.js.map